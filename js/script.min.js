$(document).ready((function(){const e="0-99",t=$(window).innerWidth(),o=document.querySelector("header").offsetHeight,n=$(window).innerHeight()-o,c=document.querySelector("#ordre"),l=document.querySelector("#chateau"),i=()=>{l.src=c.value===e?"./img/chateau-inverse.png":"./img/chateau.png"};i(),c.onchange=e=>{e.preventDefault(),i(),console.log(document.querySelectorAll('img[alt="masque"]'))},$("section").height(n),$("#chateau").height(n+"px");const a=$("#chateau").width(),r=a/1024*50;document.querySelector("#poubelle").width=r;const s=e=>{$("section").append(e),$(e).draggable({helper:"clone",cursor:"move",containment:"section",stop:(t,o)=>{const c=o.helper.clone();c.appendTo($(e).parent()).draggable({cursor:"move",containment:"section",stop:(t,o)=>{o.position.left<=r&&o.position.top+e.width>n-r&&c.remove()}})}})};["#FF9117","#B33514","#FF5700","#0079B3","#00FFEA"].forEach(((e,c)=>((e,c)=>{const l=document.createElement("canvas"),i=document.createElement("img"),d=l.getContext("2d");l.width=r,l.height=r,d.fillStyle=e,d.lineWidth=4,d.strokeStyle="black",d.fillRect(0,0,r,r),d.strokeRect(0,0,r,r),i.src=l.toDataURL(),i.alt="cache"+c,i.style.position="absolute",i.style.top=c*r+10+n/3+o+"px",i.style.left=(t-a)/4+"px",i.style.cursor="pointer",i.onload=s(i)})(e,c))),(l=>{const i=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";m.fillRect(e,t,r,r),m.strokeRect(e,t,r,r),m.save(),m.fillStyle="black",m.textAlign="center",m.textBaseline="middle",m.font="bold "+r/3+"pt Helvetica",m.fillText(o,e+r/2,t+r/2),m.restore()},d=document.createElement("canvas"),u=document.createElement("img"),m=d.getContext("2d");d.width=3*r,d.height=3*r,m.fillStyle="#FFFF00",m.lineWidth=4,m.strokeStyle="black",i(0,0),i(r,0,c.value===e?"+10":"-10"),i(2*r,0),i(0,r,"-1"),i(2*r,r,"+1"),i(0,2*r),i(r,2*r,c.value===e?"-10":"+10"),i(2*r,2*r),u.src=d.toDataURL(),u.alt="masque",u.style.position="absolute",u.style.top=10+n/3+o+"px",u.style.right=(t-a)/4+"px",u.style.cursor="pointer",u.onload=s(u)})()})),(e=>{const t=document.createElement("form");t.action="https://www.paypal.com/cgi-bin/webscr",t.method="post",t.target="_top",t.style.display="none",[{type:"hidden",name:"cmd",value:"_s-xclick"},{type:"hidden",name:"hosted_button_id",value:"Q2XYVFP4EEX2J"},{type:"image",name:"submit"}].forEach((e=>{const o=document.createElement("input");for(let t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);t.appendChild(o)})),document.body.appendChild(t);const o=document.querySelector("#paypal")||document.createElement("img");"paypal"!==o.id&&(o.src="https://"+document.location.hostname+"/img-micetf/don.gif",o.type="image",o.style.position="fixed",o.style.bottom=0,o.style.right=0,o.alt="Faire un don",document.body.appendChild(o)),o.style.cursor="pointer",o.title="Si vous pensez que cet outil le mÃ©rite... Merci !",o.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),t.querySelector("[name=submit]").click()}))})(),function(e){"use strict";var t=document.createElement("a");t.href=["mailto:","webmaster","@","micetf.fr","?","subject=Au sujet de "].join("")+document.location.pathname,t.textContent="Contact",t.style.display="none",t.id="js-micetf-contact",document.querySelector("body").appendChild(t),document.querySelector("#contact").title="Pour contacter le webmaster...",document.querySelector("#contact").addEventListener("click",(function(e){e.preventDefault(),console.log("mail : "+t.href),t.click()}))}();